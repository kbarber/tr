  Might be better (possibly less flexible) to use
  http://search.cpan.org/~makamaka/JSON-RPC-0.95/lib/JSON/RPC.pm, though
  need to make sure it doesn't use filters?


Bit rough, but currently

Map path to modules:

/          : TR             { TR->json_action }
/ldap      : TR::ldap       { TR::ldap->json action }
/ldap/user : TR::ldap::user { TR::ldap::user->json_action }


TR::ldap inherets common stuff like config from TR.
TR::ldap::user inherits all ldap stuff from TR::ldap so common functions
for ldap live there.

Handler
  Doc support.
  Hand off, support CGI and mod_perl so app can be run stand alone.
  Have module per content-type, probaby handle input and output by per
  content modules (context)

  Maybe context should really be thought about as a transaction, handling
  in/out and being able to rollback later?

Example log4perl conf
----------------------------------------------------------------------
log4perl.rootLogger=ERROR, LOGFILE
   
log4perl.appender.LOGFILE=Log::Log4perl::Appender::File
log4perl.appender.LOGFILE.filename=/var/log/TR/error.log
log4perl.appender.LOGFILE.mode=append
    
log4perl.appender.LOGFILE.layout=PatternLayout
log4perl.appender.LOGFILE.layout.ConversionPattern=[%d] %m%n
